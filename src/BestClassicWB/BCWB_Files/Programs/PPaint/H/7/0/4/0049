@DATABASE 0049
@(C) "Copyright © 1992-1997 Cloanto Italia srl"
@REM Cloanto Personal Paint 7 CD-ROM
@FONT topaz.font 8
@WIDTH 74

@NODE Main "Personal Paint 7 - 4. The Project Menu"
@TOC PPaintCD:H/7/0/4/OO00/Main

@{B}4.         The Project Menu@{UB}

This chapter describes the functions which can be accessed through the
Project menu of Personal Paint. This menu contains all commands used to
load, manipulate and save entire pictures. Other commands, which are used
to define the screen and image size, to obtain information on available
and occupied memory, or terminate the work with Personal Paint, are also
included in this menu.


@{B}4.1        Load Image@{UB}

This function loads the image selected through the file requester,
changing the screen mode if necessary.

The file requester is described in depth in section @{"3.4" LINK PPaintCD:H/7/0/4/0017/Main 1252}. Error messages
which may occur are described in detail in appendix @{"A" LINK PPaintCD:H/7/0/4/0045/Main 1}. Section @{"11.2" LINK PPaintCD:H/7/0/4/0046/Main 51}
deals with possible disk-related problems and solutions.

As soon as Personal Paint begins loading the file, it detects the file
format (IFF, PNG, PhotoCD, etc.) and applies the appropriate conversion
procedures. Different image sizes and display ratios may require screen
formats other than the current one. For example, a 640 by 480 pixel image
would be displayed better in high resolution overscan interlace mode than
on a standard low resolution non-interlaced screen. Even more suitable
video modes may be available on the computer being used. IFF files
generated by Amiga software usually contain detailed information about the
video mode to be used to display the image. Other formats do not contain
such information, so Personal Paint has to compare the size of the picture
with the available video modes.

If Personal Paint detects a difference between the current screen mode (or
number of colors) and a better suited video mode which is available, it
displays the Format Selection requester. The first two gadgets are
respectively associated with the format of the selected picture, and the
format of the image which is displayed. The first gadget is preselected by
default. If Proceed is selected without changing the status of the two
format gadgets, the load operation continues and a screen is opened
automatically in the new video mode. If the second gadget is selected, the
current screen format, number of colors and image size are left unchanged.
If the picture is wider, or larger, than the current image format, it will
be loaded only partially. Intermediate or more custom tailored screen and
image format combinations are possible by first choosing an image and
screen format (section @{"4.5" LINK Main 901}), and then loading the image without using the
suggested new format. The Stretch option may be activated to "stretch" the
picture to fit into the current image format (more on this function in
sections @{"4.5" LINK Main 901} and @{"9.13.3" LINK PPaintCD:H/7/0/4/0047/Main 734}). Cancel may be selected to abort the load
operation (without losing the image which was displayed).

On Amiga operating systems starting from version 2.0, it is possible to
specify the video modes which can be used. The selected display modes
should be activated by copying the associated Workbench icon into the
"Wbstartup" (version 2.0) or "Devs/Monitors" (version 2.1 and 3.@{I}x@{UI}) system
drawers. Otherwise, Personal Paint will not be able to use those modes.
Conversely, video modes which are not supported by the display hardware
should not be activated. Section @{"11.4" LINK PPaintCD:H/7/0/4/0046/Main 303} discusses more aspects related to
screen modes and video devices.

When the picture is loaded its colors are always loaded with it, whatever
the selected format or stretch selection. If the final screen mode
supports fewer colors than those used in the image, the image is @{I}
color-reduced@{UI} (sections @{"8.7" LINK PPaintCD:H/7/0/4/0016/Main 494} and @{"9.7" LINK PPaintCD:H/7/0/4/0047/Main 319}). This is a very powerful feature of
Personal Paint, as it allows the user, for example, to load
photographic-quality pictures and display them on any Amiga, even using
only 16 colors. This manual has a section dedicated to the different kinds
of color reduction (@{"9.7" LINK PPaintCD:H/7/0/4/0047/Main 319}) and error diffusion (@{"9.8" LINK PPaintCD:H/7/0/4/0047/Main 366}) which are available.
Section @{"4.5" LINK Main 901} has more on screen modes and color-related issues. Section
@{"8.1.4" LINK PPaintCD:H/7/0/4/0016/Main 224} explains how to make global changes to an image's palette (like
adjusting contrast, brightness, etc.)

If the file contains information relative to a Color Mask (Stencil,
section @{"8.2" LINK PPaintCD:H/7/0/4/0016/Main 301}), it is loaded and applied as well. This only applies to IFF
files.

An encryption key may be requested if the file is encrypted and no key had
previously been given. The load operation fails if the file cannot be
decoded using the encryption key. In such a case, the key should be set
properly (section @{"9.4" LINK PPaintCD:H/7/0/4/0047/Main 225}) before attempting to load the image again.

Recognition of previously supported file formats has been improved. State
of the art color quantization and reduction algorithms have been employed
to load 24-bit images and transform them into images having 256 or less
colors. The quality of the resulting 256-color images is not easily
distinguishable from a 24-bit display. The selected Dithering option
(section @{"9.8" LINK PPaintCD:H/7/0/4/0047/Main 366}) is taken into account by the new 24-bit procedures
(Floyd-Steinberg gives best quality, whereas Pattern Dithering combines
good quality with high speed).

HAM and HAM8 are processed by the program as 24-bit images (just as
24/48-bit PNG, IFF24 and PCX24). Personal Paint also uses the DataType
loaders supported from version 3.0 of the Amiga operating system.

Personal Paint excels in handling HAM, HAM8 and 24-bit images and
transforming them into color-indexed pictures (up to 256 colors). During
this high quality conversion process, the program can display the original
HAM or 24-bit image in a second screen (HAM, HAM8, Picasso, CyberGraphX,
etc.). The two processes take advantage of Amiga multitasking: one program
continues working on the image, while the other allows the user to view
the original image.

When a 24-bit image is loaded, the program presents a requester indicating
the format of that image. The top gadget, which is selected by default,
tells the program to use the screen size of the new image. If the
"Preview" option of that requester is selected, a second screen will open
(in HAM or 24-bit mode). While the second screen is displayed, Personal
Paint continues color quantization and dithering in the background. The
first screen always contains the usual progress requesters indicating the
status of the conversion.

The preview screen and the main screen can be swapped by pressing the
<Space> bar or by clicking the right mouse button. Pressing <Esc>, or
clicking on the left mouse button while the preview screen is displayed
closes the preview screen.

The more professional settings (sections @{"9.7" LINK PPaintCD:H/7/0/4/0047/Main 319} and @{"9.8" LINK PPaintCD:H/7/0/4/0047/Main 366}) may be slower when
viewing and/or color-reducing HAM, HAM8 and 24-bit images, while Pattern
Dithering limited to 16 colors is considerably faster.

In animation mode, if the image format differs from the frame format of
the current animation, a requester appears to allow the user to decide
whether to resize the image or the animation. Load Image normally loads
the picture into the current animation frame. If animation is no longer
desired, Free Animation must be selected before loading the picture.

The Amiga operating system (version 2.1 and beyond) supports MS-DOS disk
formats in an application-transparent fashion. This means that, if the
"PC" DOSDrivers are installed (or the CrossDOS software, or an equivalent
third-party product), Personal Paint will be able to read and write
picture-files which can be shared among the PC (and Mac, where MS-DOS
filing systems are supported) environments. For example, the MS-DOS device
can be activated on drive 0 by double-clicking on the PC0 icon, or by
moving that icon from "Storage/DOSDrivers" to "Devs/DOSDrivers".


@{B}4.2        Save Image@{UB}

This function saves the displayed image. The file requester (section @{"3.4" LINK PPaintCD:H/7/0/4/0017/Main 1252})
is used to define or select the file name and choose a file format.

The Save Image file requester has additional gadget-options to select the
picture's file format. IFF ILBM (from "Interchange File Format -
InterLeaved BitMap") is the Amiga standard format. GIF achieves better
data compression (i.e. the files are shorter) and is a widespread standard
on electronic bulletin boards and PC-compatible systems. PCX is more used
by simple PC paint and scanner interface software. The Encrypted format is
useful to protect "private" pictures. The C source code format is suitable
for embedding image data into Amiga graphics programming environments.

In the ILBM format, if a stencil (color mask, section @{"8.2" LINK PPaintCD:H/7/0/4/0016/Main 301}) is active, it
is saved as well.

GIF, ILBM and other formats may employ 24-bit color palettes. Personal
Paint always encodes colors using 24-bits ("true color") for higher
quality. This ensures best results with image processing, error diffusion
(e.g. Floyd-Steinberg), color reduction and format conversions. Colors are
rounded to the closest Amiga color step (12 bits, i.e. 4 bits for each
Red, Green and Blue component, on original Amiga architectures) only when
they are copied into the environment palette. To convert an image with a
palette having finer steps than the best Amiga video mode from one format
to the other, it should be loaded as a brush, and saved again in the new
format. By default, palettes and bitplanes of brushes which have been
loaded are left intact.

Internally, different PCX subformats may be used in order to achieve best
compatibility with existing PC systems. Two-color images are saved as CGA
monochrome files. In this format, a few readers may assume color 0 to be
black, and color 1 to be white. In such a case, the two colors should be
exchanged in Personal Paint's palette before remapping (section @{"8.3" LINK PPaintCD:H/7/0/4/0016/Main 424}) and
saving the picture. Images with 4 or 16 colors are stored as EGA/VGA
16-color files (adding extra empty planes if necessary). Images with more
colors are stored as 256-color VGA files.

Encrypted images are modified using a key. If the picture is not loaded
using the same encryption key, it will be unreadable. Section @{"9.4" LINK PPaintCD:H/7/0/4/0047/Main 225} has
more information on encryption in general, and describes the requester
used to define the encryption key. The requester automatically pops up
when an encrypted file is loaded and no encryption key is set, or if the
key was set and cancelled. Otherwise, the previously used encryption key
is considered valid. The file name is not encrypted.

This note is mainly for programmers. C source code files also contain a
filled-in Amiga @{I}DrawImage()@{UI}-compatible @{I}Image@{UI} structure and arrays with
color palette data in formats suitable for both @{I}LoadRGB4()@{UI} and @{I}
LoadRGB32()@{UI}. Unused bitplanes are not output as data, but marked in the
appropriate @{I}PlanePick@{UI} and @{I}PlaneOnOff@{UI} fields. The image array data type is
defined as "UWORD chip". The "chip" keyword is used by some compilers to
make sure that the data is loaded in Amiga Chip RAM at run time. It may be
necessary to remove it, or modify it into a different name (e.g.
"__chip").

Any problems encountered by Personal Paint or the Amiga operating system
during the save operation are signalled through specific messages.
Appendix @{"A" LINK PPaintCD:H/7/0/4/0045/Main 1} lists all program messages. Section @{"11.2" LINK PPaintCD:H/7/0/4/0046/Main 51} contains important
information on how to handle any errors which may occur during a write
operation.

Sections @{"3.4" LINK PPaintCD:H/7/0/4/0017/Main 1252} and @{"9.10" LINK PPaintCD:H/7/0/4/0047/Main 538} have more on file requester and Workbench icon
settings.


@{B}4.3        Print Image@{UB}

The main requester which is displayed when this menu item is selected
gives access to Personal Paint's printer settings. Personal Paint can
either work with any printer driven by the Amiga Preferences options and
drivers, or work in its own PostScript mode. The two modes have separate
sets of options. The paper format, which may be different from the image
format, can also be set from here.

In addition to the system printer and PostScript modes, Personal Paint
incorporates 24-bit printing routines, as well as an interface to the
Studio Print Server software. This allows users of the Studio and
CanonStudio packages (version 2 and beyond) to print directly from
Personal Paint.

Before printing a picture (usually after installing the system or a new
printer), the correct printer driver must be selected using the Amiga
Preferences. Appendix @{"D" LINK PPaintCD:H/7/0/4/2163/Main 1} lists some common printer and driver
combinations. The Amiga Preferences @{I}Printer@{UI} and @{I}PrinterGfx@{UI} (Printer
Graphics) options are equivalent to most of Personal Paint's settings with
the same name. Personal Paint shares and exchanges this data with the
system Preferences. Personal Paint's PostScript mode does not require the
system PostScript modules (Workbench 2.1 and beyond), and will work fine
with any Amiga printer driver.

Personal Paint reads the system printer preferences to set its initial
printer defaults, and updates incompatible settings when any Preferences
options are changed. After that, any modifications are not copied back to
the Amiga system preferences. Each of the two environments may have its
own, different, printer settings.

The top three gadgets in the main print requester are used to activate the
requesters specific to the page layout, system (Preferences) printer
options and PostScript settings. The Mode gadget is very important: it
determines whether Personal Paint should print using the current system
printer (PRT), or work in PostScript (PS) mode instead. The Copies gadget
allows the user to set the amount of identical copies to be printed.

If the Mode cycle gadget is set to Studio, Personal Paint adds each print
job to the Studio print spool, and does not need to wait for the printing
process to complete. The image data is stored in a temporary file, from
where it is printed by Studio. Personal Paint's temporary files are stored
in the device having more free space, choosing from those specified in the
Virtual Memory settings (section @{"9.3.1" LINK PPaintCD:H/7/0/4/0047/Main 130}).

Personal Paint's Studio server (message port) name is "PPaint_Studio".
This name may be requested by the Studio software (e.g. to save a
configuration).

PostScript-related color correction is described in detail in section
@{"4.3.3.11.1" LINK Main 767}. The requester described in section @{"8.1.4" LINK PPaintCD:H/7/0/4/0016/Main 224} (Adjust Color
Palette) may be used with all printers, to adjust the picture contrast and
brightness or apply other corrections.

In addition to the Print (similar to the more usual Proceed) and Cancel
gadgets, Exit can be used to leave the requester without printing
anything, but confirming any changes made to the settings. Cancel aborts
the printing and undoes any changes made. Print outputs the displayed
image.

While printing is in progress, it can be terminated by clicking on the
Stop gadget. The effect of this may be somehow delayed by the printer
driver and the printer's buffer, which may have accumulated some data. To
suspend the printing immediately, the printer must be deselected (switched
off-line, or paused). This can be done by accessing the printer's control
panel. Once the printer is deselected, it remains inactive until it is
selected (switched on-line) again. The printing continues when the printer
is re-selected. When the printer is switched off- and on-line, the content
of its buffer is usually not cleared. This means that the printing will
continue from where it was interrupted. Some printers let the user clear
the content of the buffer through the control panel, while others must be
switched off while deselected.

A system requester is displayed some seconds after the printer is
deselected (or it is out of paper). The right gadget of the system
requester must be selected to inform the system that the printing is to be
suspended. The left gadget resumes printing.

Section @{"11.3" LINK PPaintCD:H/7/0/4/0046/Main 130} and Appendix @{"D" LINK PPaintCD:H/7/0/4/2163/Main 1} have more on printer related topics.


@{B}4.3.1      Page Layout@{UB}

These options are used to set the format of the output page, and the
position, size and ratio of the image on the page.


@{B}4.3.1.1    Measuring Unit@{UB}

The Measuring Unit gadget can be used to cycle through the different
measurement units used by Personal Paint to indicate positions on the
page. While the meaning of inch and centimeter is standard and obvious,
there is no such universal definition of a "point". Personal Paint uses
the PostScript point, which measures 1/72 of an inch, i.e. mm 0.353
(whereas 1 Pica point = mm 0.351, 1 Didot point = mm 0.376 and 1 decipoint
= 1/720"). One inch equals about cm 2.54, and 1 cm = 0.3937 in.
Internally, Personal Paint computes distances in micrometers for maximum
accuracy.


@{B}4.3.1.2    Page Format and Size@{UB}

The Format gadget can be used to cycle through several predefined paper
formats. Custom indicates that user defined values specified in the Page
Size fields will be used. When operating in PostScript mode, Personal
Paint may be able to obtain the exact size of the paper being used
directly by the printer, overriding the Format settings.


@{B}4.3.1.3    Automatic Centering and Manual Margins@{UB}

The two center options allow for automatic centering of the image along
the horizontal and/or vertical axis. When centering is disabled, the Left
and Top margin values are applied strictly. With centering, the image is
positioned between symmetrically equal margins.


@{B}4.3.1.4    Image Size@{UB}

The Size gadgets can be used to manually set the image's dimensions,
either using the default measurement unit, or in printer or video pixels.
The default setting is Automatic, where Personal Paint tries to print the
image leaving it about as large as it would appear on a screen, reducing
it only if it doesn't fit within the margins set for the page (but always
preserving the original proportions). Paper % indicates an amount
proportional to the page size. Units adopts the specified measurement
unit. Pixels indicates the dimensions in printer picture elements. Times
multiplies the image pixel dimensions by the amount which is indicated.

If one of the two image dimensions (or percent values, or multiplication
factors) is set to zero, it will be calculated considering the other
dimension and the original image ratio. If both dimensions are zero, the
image will be printed as wide as the page format and the margins allow,
and as tall as required to preserve the correct proportions. Specifying
both image dimensions runs the risk of distorting the image as it appears
on the screen, unless the exact screen and printer rendering ratios are
known.


@{B}4.3.1.5    Landscape Orientation@{UB}

If the Landscape option is set, the image is printed rotated by 90
degrees, i.e. along the side of the paper.


@{B}4.3.2      System Printer@{UB}

Most of these options are identical with their equivalent Amiga
Preferences. The correct printer driver name must be selected using the
system Preferences. The options of this requester have no effect on how
Personal Paint outputs an image in PostScript mode.


@{B}4.3.2.1    Dithering@{UB}

Just as the images on the screen are made up of tiny pixels, printed
images are made up of tiny dots. Dithering refers to the printing of dots
of different colors in such a way that they are so small and close
together that the eye sees them as one color. This makes it possible to
produce printouts which appear to have more colors than the three or four
inks normally available on a color printer.

For example, where there is a black pixel on the screen, black dots will
appear on the printout. However, if the pixel is purple, the printer might
have to use dots of yellow, magenta and cyan to create the illusion of
purple. In the case of gray scales, the printer will use varying patterns
of black dots to replicate the intensity of gray on the screen.

If the Ordered dithering option is selected, color intensities are formed
using an ordered pattern of dots, similar to a checkerboard pattern. The
dots may vary in color, but are of the same density and are printed in
straight rows and columns. This is the system standard type of dithering.

In Halftone dithering, color intensities are formed by varying the size
and density of the dots. This technique is similar to the one used in
newspapers and magazines. It works best on higher density printers (more
than 150 dots per inch.

For instance, while a pixel of black may be reproduced with four black
dots, a pixel of purple may be printed using two red and two blue dots of
varying sizes that are placed in such a way that to the human eye they
look like purple.

The Floyd-Steinberg method employs a more complex error distribution
algorithm. Basically, Floyd-Steinberg creates a dot pattern that maximizes
the detail of the image by distributing the intensities of each pixel
throughout the dots comprising that pixel, as well as throughout the
neighboring dots. This option overrides Smoothing (if selected) and may
slow down printing more than others.


@{B}4.3.2.2    Scaling@{UB}

Scaling refers to the process of changing the size of an image. Fraction
performs normal scaling.

The Integer selection guarantees that every pixel on the screen is
guaranteed to appear as an even number of dots on the printout. For
example, if the picture on the screen is 320 by 200, the printed picture
will be either 320, 640 or 960 dots wide, etc., and 200, 400 or 600 dots
high, and so on. This option is most useful when trying to print a picture
that contains thin vertical and horizontal lines (like a grid).

The actual size of the printout will be determined by the image size
printer settings (section @{"4.3.1.4" LINK Main 318}). It will be scaled up or down to the
nearest multiple of the width and height of the picture.

Integer scaling may override the Landscape setting (section @{"4.3.1.5" LINK Main 340}),
making it possible to get a slightly distorted picture. This option is
also useful for printing out bit-image text, since the fonts will not be
distorted due to fractional scaling. With Integer Scaling enabled, the
size of the printed image may differ slightly from the requested size.


@{B}4.3.2.3    Image@{UB}

When set to Positive, the Image setting leaves the image as it appears on
the screen. When set to Negative, the image is "reversed" - what is black
on the screen is printed as white, and vice versa. This is similar to a
photographic negative.


@{B}4.3.2.4    Shade@{UB}

The Shade option determines how different colors or gray levels are to be
printed. Not all printers support all settings.

Black and White prints all colors either as black or white. Whether a
color is printed as black or white is determined by the Threshold value.
When black and white printing is selected, Dithering has no effect.

Gray Scale 1 prints colors in varying shades of gray. Gray Scale 2
supports a maximum of four shades of gray and is used for printouts of
pictures designed on the A2024 monitor.

Color is applicable only to color printers. Colors are printed as they
appear on the screen.

Personal Paint features 24-bit printing (16 million colors), which
overcomes the traditional limitation of 4096 colors and 16 gray shades of
the Amiga printer device. These new modes are activated by the "24-bit
Color" and "8-bit Gray" settings in the Shade cycle gadget.

24-bit printing uses special dithering routines to create color shades
from a limited set of primary printer colors (more in section @{"4.3.2.1" LINK Main 354}). A
few printers work in "true color", and do not require the program to
create dithering patterns. For example, the Fargo Primera dye-sublimation
color printer comes with its own 24-bit driver. In such a case, normal
system printing can be used.

Even in 24-bit printing, it is still necessary to have the appropriate
Amiga printer driver selected through the Amiga Preferences (unless
Personal Paint is operating in its own PostScript mode).

Further adjustments to improve print quality can be made in the Gamma
Correction and Undercolor Removal requester which is displayed by clicking
on Correct/Set (section @{"4.3.2.8" LINK Main 518}).

Personal Paint's color correction and dithering routines were designed to
go directly to the printer. Some "24-bit" printing utilities are available
for the Amiga in replacement of normal printer drivers. These utilities do
not receive 24-bit data from applications (at least not until version 3.2
of the Amiga operating system). They should not be used in combination
with Personal Paint's 24-bit printing modes, unless all of their color
correction options are disabled. Otherwise, different dithering patterns
and color correction procedures overlap and interfere with each other,
with very poor results.

Some Amigas are slowed down by system DMA operations when images in 256
colors are displayed. Bringing a 4-color Workbench screen to the front can
speed up other programs, including printing with Personal Paint.

For optimum results in 24-bit printing, it is advised to set the highest
Density supported by the printer driver (section @{"4.3.2.6" LINK Main 497}). In particular,
using the HP DeskJet printers with the drivers included with Personal
Paint, Dithering should be set to Floyd-Steinberg, Threshold should be set
to 1 (this turns off depletion by the driver) and Density to 7 (maximum
shingling). While these settings reduce printing speed, they maximize
print quality. With these settings, it is normally not necessary to make
further adjustments to Personal Paint's Color Correction tables. Special
ink-jet paper, or paper used for color copiers give best results.


@{B}4.3.2.5    Threshold@{UB}

In Black and White mode, the lightest color of the image will tend to be
printed as white, and the darkest as black. Intermediate colors fall
either into the white or the black half, as marked by the Threshold
setting. When the setting for Image is Positive and the Threshold setting
is low (around 2), only the darkest color on the screen is printed as
black. Everything else is printed as white. Increasing the Threshold value
causes more colors to be printed as black. If the Image Setting is changed
to Negative, a low Threshold value will cause the darkest color on the
screen to be printed as white, and vice versa.


@{B}4.3.2.6    Density@{UB}

The Density gadget selects the print density, i.e. the number of dots
which will be printed in an inch. The lower the density, the faster the
printout (on those printers with multiple densities). The higher the
density, the more dots are used to create the printout, and the sharper
the image.

This option is not supported by every printer. Appendix @{"D" LINK PPaintCD:H/7/0/4/2163/Main 1} provides
additional information on printer drivers.


@{B}4.3.2.7    Smoothing@{UB}

Sometimes when printing diagonal lines, those lines may be jagged. When
smoothing is turned on, the Amiga attempts to smooth diagonal lines to get
rid of the jagged appearance. This option is best suited for printing
images containing geometrical shapes and text. When smoothing is turned
on, printing may be much slower.


@{B}4.3.2.8    Color Correction@{UB}

Color correction gives a better match of the colors on the screen to the
colors on the printout. Color correction can be used on red, green, blue
or on a combination of the colors. Color correction is turned on by
clicking on the gadgets marked with R (red), G (green) or B (blue).

Color correction causes a reduction of the number of printed colors. When
color correction is not used, all colors displayed by the Amiga can be
printed on a color printer. For example, for each color which is corrected
of a palette of 4096 (as in Amigas using the original chip sets), 308
shades of that color are lost.

The effect of color correction can be seen if a picture containing solid
red, green and blue shades is printed twice. The first time, color
correction should be left off. The second time it should be turned on for
each shade. The shade of the second picture should more closely represent
the colors displayed on the monitor.

In 24-bit printing mode, the Set gadget can be selected to tune the Gamma
Correction and Undercolor Removal settings. Section @{"4.3.3.11" LINK Main 744} (Color
Separation) has more on printing inks, while section @{"4.3.3.11.1" LINK Main 767} (Color
Correction and Undercolor Removal) explains undercolor removal, which in
24-bit printing is similar to the same feature of Personal Paint's
PostScript mode.

Personal Paint can correct each ink component (e.g. cyan, magenta, yellow
or black) separately. The Component cycle gadget allows the user to switch
between the individual correction tables.

Clicking on the graph reverses the notation. By default, low ink-density
values are placed at the lower left of the graph. This is the traditional
orientation used in the printing industry.

The Brightness and Contract knobs act as described in section @{"8.1.4" LINK PPaintCD:H/7/0/4/0016/Main 224}
(Adjust Palette).

Ink smear and overlapping dots ("dot gain") cause the printer to respond
in a non-linear way to the color information it receives from the
computer. The Gamma Correction function is used to compensate for this.
Gamma values smaller than 1 make the image lighter. Values greater than 1
cause it to be printed darker. An appropriate gamma curve can drastically
improve image quality, while at the same time limiting the loss of
information to a minimum, if any.

The program default values can be adjusted in order to obtain a closer
match between the picture which is displayed, and the printed image. To
further tune the values to suit a particular image, it may be useful to
print small, "critical" regions of the image using the Print Brush
function.


@{B}4.3.2.9    Form Feed@{UB}

If Form Feed is selected, a form feed (FF) command is sent to the printer
after each image is printed. On some printers this command causes the
printer to print the content of the page buffer and eject the page. On
other printers, for example impact printers with automatic sheet feeder,
the command causes the current sheet of paper to be ejected and a new
sheet to be introduced from the paper hopper. If continuous forms paper is
used, the command positions the printer head at the beginning of the
following page (or form, or label).

If the option is activated, and the Page Length (section @{"4.3.1.2" LINK Main 301}) is a
multiple of 1/6 or 1/8 of an inch (the two vertical positioning units
supported by the Amiga printer device), Personal Paint also attempts to
program the printer's form length. This is very useful for precision
printing of multiple copies on non-standard forms like labels.


@{B}4.3.3      PostScript@{UB}

This requester contains all the PostScript-specific settings. PostScript
output is intended for PostScript printers, phototypesetters or other
image processing systems. A non-PostScript printer will not be able to
interpret and print PostScript data directly. It may do so, for example,
if the PostScript output is fed into a software emulator (as are available
for the Amiga) which in turn sends the processed image data to the
printer.

Personal Paint uses Color and Level 2 PostScript extensions for maximum
performance. It is also compatible with Level 1 systems, where it emulates
the same functions. Refinement and testing of the Color PostScript code
were performed on a NEC Colormate PS printer, kindly provided by NEC.


@{B}4.3.3.1    Image@{UB}

The Positive/Negative Image setting is identical to the system setting
described in section @{"4.3.2.3" LINK Main 415}. The other option, Mirror, causes the image
to be printed as it would appear reflected by a mirror. This option may be
especially useful for burning plates directly from the output of a
personal laser printer, where thicker and less transparent paper sheets
are often used instead of transparencies.


@{B}4.3.3.2    Dots per Inch (DPI)@{UB}

On some devices the output resolution (number of Dots per Inch, or DPI)
can be programmed. For example, on the IBM LaserPrinter 4029 Series and
the HP LaserJet 4, the resolution may be switched between 300 and 600 dpi
(if there's enough memory). Other printers work in 300/600 dpi, 400/800
dpi or even higher resolutions. Phototypesetters work at resolutions
higher than 1000 dpi (e.g. 1016, 1200, 1270, 2400, 2540 or 3048 dpi).

By setting the value to zero, the PostScript processor uses the printer's
default. This is useful when the resolution of the target device is
unknown. If DPI is set to zero and the Image Size (Page Layout, section
@{"4.3.1.4" LINK Main 318}) is set in Pixels or Times, a default of 300 dpi is assumed.


@{B}4.3.3.3    Lines per Inch (LPI)@{UB}

When printing different shades of color using halftones (sections @{"4.3.2.1" LINK Main 354}
and @{"4.3.3.4" LINK Main 652}), the Lines per Inch (LPI) setting becomes very important. It
determines the number of halftone cells per inch. The higher the number of
cells per inch, the smaller the cells have to be. Smaller cells may
represent finer details, but provide for coarser and more "grainy" color
transitions. Larger cells, on the other hand, by allowing for more
combinations of on/off dots inside the cell, yield much smoother-looking
gradations, at the expense of image detail. The higher the resolution
(DPI), the higher the LPI value that can be set without compromising on
the amount of different colors (or gray levels). For example, at 300 dpi
(or when printing on coarse newspaper paper), an LPI value of 75 might be
appropriate. It could grow to 100 lpi at 600 dpi, and 150 lpi at 1270 dpi.
But even at 1270 dpi, if very soft color transitions are desired, a value
of 85 lpi could make sense. When preparing a job for a printer, higher
values may exceed the precision limits of the printing press (e.g. about
200 lpi for offset printing on highest quality paper, 150 lpi being a more
practical limit). To experiment with different spot functions (section
@{"4.3.3.4" LINK Main 652}) and other special effects, 15 to 20 lpi may prove to be most
interesting. A value of zero causes the device's default to be used.


@{B}4.3.3.4    Spot Function@{UB}

Laser printing, offset and other types of printing have one common
limitation: they can't print grays. There is either ink on a given area,
or there isn't. The illusion of gray is created by a pattern of black (or
any other color) dots. The bigger and closer the dots, the darker the area
will appear. The pattern of dots (i.e. the halftone cell) may have
different shapes: round dots, elliptical dots, lines, stars, etc.
Different shapes of cells may result in more or less linear transitions
from light to dark. Elliptical dots, for example, are often used to
produce better middle tones. The first plain paper PostScript printers
employed simple, round dots (Personal Paint DotIn). Larger dots would be
used for darker colors. A generation of devices which followed (Dot2) used
the same shape for grays up to 50%. For darker colors, however, the dots
would be built from the corners, rather than the center (DotOut).

Personal Paint's Spot parameter can be used to select different shapes of
cells. It is easier, and fun, to experiment with the different shapes than
it is to describe them. To appreciate the differences in more detail, LPI
should be set to a very low value (15 lpi, for example), and the image to
be printed should contain a wide variety of colors, or gray levels.

The screen angle (section @{"4.3.3.11.2" LINK Main 812}) may be changed to rotate the
shapes. The difference may hardly be noticed when round dots are used, but
is evident when a line screen is selected.

Different dot shapes may give different results in color separations, as
the different interactions with screen frequency (i.e. Lines per Inch) and
angle are directly involved in disturbing effects like moiré patterns.


@{B}4.3.3.5    Output@{UB}

The Output parameter can be set to PRT, SER, PAR or Disk. PRT indicates
that personal Paint's output should go to the channel selected for the
printer in the system Preferences (this may be one of several serial
lines, for example). SER and PAR indicate the default serial and parallel
ports. These latter two settings may be functionally equivalent to PRT,
but faster, since the printer driver is bypassed. Disk indicates that the
output is to be directed to a file. A file requester appears when printing
begins, so that the file can be specified. By saving the PostScript output
to an MS-DOS formatted disk (using CrossDOS, Dos-2-Dos, or the "PC"
DOSDrivers available since version 2.1 of the operating system), it may be
used directly by most printers and PC users.


@{B}4.3.3.6    Encapsulated PostScript (EPS)@{UB}

Encapsulated PostScript (EPS) is a standard for importing PostScript files
into different environments. For example, an image saved in EPS format can
be used by desktop publishing packages on different computers. The image
is then printed exactly (i.e. at the same LPI, etc.) as it would be
printed with Personal Paint. On some printers, the DPI value may have to
be set to zero (printer's default) before creating an EPS file.


@{B}4.3.3.7    Crop Marks@{UB}

Crop marks (Crops) are thin lines which show the exact margins of the
image. They are useful for cutting the paper. If the Crops option is
activated when performing color separations, Personal Paint also generates
registration marks, which are used for precise manual alignment of
differently colored outputs.


@{B}4.3.3.8    Manual Feed@{UB}

If the Manual Feed option is selected, Personal Paint tries to activate
the printer's manual paper tray. Otherwise, the default paper tray is
used.


@{B}4.3.3.9    Compression@{UB}

PostScript files may become very long. It is not unusual for a file not to
fit on a single disk, or for it to take several minutes only to transmit
to the printer over a serial connection. Personal Paint's Compress option
can reduce the file's length to less than 30% of the original size. It
tends to improve as the image data increases (e.g. in high resolution
images, or color separations). If the data transmission channel is not a
main "bottleneck", compression may slow down processing on the printer
side, especially on PostScript Level 1 devices.


@{B}4.3.3.10   Process@{UB}

Process is used to select from the different PostScript output modes: Gray
(black and white printers), Color (color printers), CMY and CMYK (color
separations). Gray and Color print each image in one sheet of paper. CMY
and CMYK output each color component on a different page.


@{B}4.3.3.11   Color Separation@{UB}

The letters used in "CMY" and "CMYK" are taken from Cyan, Magenta, Yellow
and blacK (B cannot be used for black as it could be confused with blue).
Cyan, magenta and yellow @{U}pigments@{UU} are mixed by printers to simulate all
other colors. This is called @{I}subtractive synthesis@{UI}, and is opposite to the
@{I}additive@{UI} method where red, green and blue @{U}light@{UU} is combined to obtain the
whole rainbow. Actually, cyan, magenta and yellow are the color opposites
of red, green and blue: a colored pigment completely absorbs light of its
complementary color. So, just as televisions and paint programs use RGB to
create colors, printers use CMY. CMY and CMYK @{I}color separations@{UI} are used
to prepare the different films from which printing plates are burnt. Each
plate is then used to print one @{I}primary@{UI} color. One after the other,
precisely aligned, the plates print the final image on paper. (The C, M, Y
and K Ink gadgets are used to optionally avoid outputting the information
relative to one or more primary colors.)

There are two main problems with this process: the first is that "real"
inks do not give ideal results when mixed; the second is that it is
difficult to achieve in practice the "precise alignment" which would be
required.


@{B}4.3.3.11.1 Color Correction and Undercolor Removal@{UB}

In theory, different combinations of cyan, magenta and yellow could be
mixed to produce the full range of colors. Real inks, however, contain
impurities that make them absorb more than just one color. For example,
when equal parts of cyan, magenta and yellow are mixed together, the
result should range from light gray to black. Instead, it more often looks
brownish. This is one of the reasons black is often used as a fourth ink.
Also, black ink is less expensive than the other colored inks. Another
advantage is that to produce black (or other dark colors), a lot of the
other inks would have to be used. However, the more ink there is, the
longer it takes to dry out and be ready for another printing pass.

Black ink can be used wherever all of the other three colors would be
used. For example, an area where 25% cyan, 30% magenta and 45% yellow
would be used, could also be printed using up to 25% black (and as little
as no cyan, 5% magenta and 15% yellow). The UCRK parameter indicates the
amount of black that can be removed from the cyan, magenta and yellow
components and be substituted as a separate black component. 100% would
mean that the quantity of black is equal to the lowest of the other three
original colors (just as the maximum/minimum values in the previous
example). In practice, full removal of black is not common, as
registration (alignment) becomes critical (thin white borders may appear
around solid black areas). Usually, up to 50% of the black is removed from
the other colors.

The Gray Component Replacement (GCR) parameter allows the user to remove
or add black ink to the amount of black which results from applying
undercolor removal. A value of 100% would leave the result unchanged; 150%
would add 50% black ink; 0% would cause black not to be printed (like
unselecting K in the Ink column).

Yellow printer's ink is very close to pure yellow, and is generally
treated as pure. Magenta ink, however, appears contaminated with yellow,
and cyan with some magenta and a little yellow. The UCRM and UCRY
parameters work similarly to UCRK, by extracting some magenta from cyan,
and yellow from magenta, respectively.

The correct choice of undercolor removal and gray component replacement
depends on the characteristics of the output device and the materials
which are used. Manufacturers of color printers finely tune and configure
their devices with the most appropriate values (Personal Paint's GCR and
UCR are disabled in color printing).


@{B}4.3.3.11.2 The Moiré Effect@{UB}

The registers and alignment marks which appear around an image to align
different colors, as fine as they may be, are not sufficient to guarantee
a perfect alignment. In most cases, the weakest chain in the printing
process is the mechanical precision of the machines and the materials
involved.

The @{I}moiré phenomenon@{UI} consists of a visible "parasite" pattern that appears
to the eye when two (or more) set of lines (or grids) are intersected. In
television, it is common to notice such an effect when people wearing
shirts or dresses with very fine and contrasted line patterns are
interviewed. These patterns appear disturbed. In digital typography, this
may happen when scanning an already halftoned image. In color printing, it
is usually due to interference between the different halftone screens.
Since it is not reasonable to expect perfect registering of screens having
the same angle, a different solution is used: each of the screens is
rotated relative to the others, causing the moiré pattern to be very
small. If the screen is fine enough, the patterns are almost impossible to
see at a distance, much like halftone dots.

Personal Paint allows the user to individually set each of the four screen
angles. In black and white (gray) printing, only the angle of black (K) is
used. This is usually set to 45 degrees, which is assumed to be the least
obstructive to the human eye. Yellow is the lightest and less troublesome
color, so its angle is usually set to 0 degrees or 90 degrees. Cyan and
magenta are generally printed at 30 degrees offsets from black (the
largest possible offset when printing three colors), which gives them only
a 15 degrees offset from yellow. Since cyan is also "dark", it is
sometimes printed at 45 degrees with black at 15. Since halftones are
usually composed of a grid of squares, there are only 90 degrees in which
to distribute the four halftone screens, so 0 degrees is the same as 90,
and 15 the same as 105, etc.

There are several rules for minimizing the moiré effects in color
separation. Most of them are too complex to appear here. Generally, the
lower the requested screen frequency (LPI), or the higher the resolution
(DPI), the more rational angles are available, and the moiré danger due to
approximation is reduced. On the other hand, higher resolution or higher
screen frequency make smaller moiré patterns even less visible. Equal
frequencies and angle distribution should not necessarily be the ultimate
goal. In fact, better and less sensitive screen combinations may often be
found with different frequencies for the various colors. Angle differences
below 15 degrees (or even below 20 degrees) should be avoided, due to the
strong 2-grating moirés which they generate.

Common angle combinations for C, M, Y, K are: 75, 15, 0, 45; 75, 15, 90,
45; 105, 75, 90, 45; 15, 75, 0, 45; 0, 30, 60, 15; 30, 60, 0, 15. The
results may vary using different screen frequencies (LPIs). As the
frequency goes up, less angles become available, and the moiré problem
becomes more acute. Colors printed in a small area may appear to be
"true", with moiré patterns appearing in larger areas.

If an angle value greater than 360 is set, the printer's default angle is
used. Especially on color printers, the default printer values for angle
and screen density should be tried first.


@{B}4.4        Grab Screen@{UB}

Personal Paint can load and edit Amiga screens which are displayed by
other programs as if they were a picture. The Grab Screen function copies
the selected screen graphics into the current environment. The original
screen is not affected by this operation.

The requester which is displayed is similar to a file requester, showing
the names of all open screens. Some applications leave the screens they
open unnamed. For these screens, Personal Paint displays additional bitmap
size depth information. To load a screen, it is sufficient to double-click
with the mouse on its name in the list, or select the name and Proceed.

It is sometimes necessary to grab a screen while a particular window is
active, a gadget is selected, or a menu is displayed. It is not possible
to access these items at the same time as Personal Paint's screen grab
requester is used. For this reason, Personal Paint offers an alternate
solution for selecting the screen to be grabbed: simultaneously pressing
the <Ctrl>+<Alt> keys on the left of the keyboard indicates that the
frontmost screen is to be grabbed. A screen flash and an acoustical signal
indicate that the screen has been grabbed. This method, like the standard
selection, works only when the Grab Screen requester is displayed.

In animation mode, multiple screens can be grabbed automatically. After a
screen is grabbed (either with the <Ctrl>+<Alt> keys, or by pressing
Proceed), Personal Paint adds a new animation frame and remains in grab
mode. This allows the user to record a tutorial animation, or to grab
multiple requesters or menus for inclusion in a manual, without having to
switch back and forth between applications.


@{B}4.5        Image and Screen Format@{UB}

Personal Paint does not put any limits to the image size. An image may be
as large as the Amiga @{I}blitter@{UI} circuits can handle. Similarly, the maximum
number of independent colors which can be displayed at the same time
depends on the version of the chip set which is mounted in the Amiga.
Original and Enhanced (ECS) chip sets may display up to 64 independent
colors ("Extra Half Brite" mode - section @{"8.1.3.1" LINK PPaintCD:H/7/0/4/0016/Main 97}). On Advanced Graphics
Architecture Amigas, Personal Paint may display up to 256 colors in most
video modes. Each of Personal Paint's two environments may have its own
screen mode and image size.

In addition to the standard graphics chips which are installed on the
Amiga, Personal Paint may exploit graphics boards, as long as they conform
to the Amiga Display Database conventions and are accessible by the
blitter. The same size and color limitations just mentioned apply.

An image edited with Personal Paint is not limited by the size of the
screen, which may contain only part of the image. Section @{"3.2" LINK PPaintCD:H/7/0/4/0017/Main 1199} explains
how to move and scroll around images which are larger than the screen. The
screen mode limits the image only as far as the number of bitplanes (i.e.
the maximum number of colors) is concerned. An image may not have more
colors than those which can be displayed. Section @{"4.1" LINK Main 11} describes some
options available when loading images having more colors. Brushes are an
exception to this limitation: a 256-color brush, for example, can be
loaded even on first-generation Amigas. It may not be displayed properly
(only as many bitplanes as there are in the screen are displayed), but it
can be processed (resized, rotated, etc.), printed and saved correctly.

The list box contains the names of all video modes notified to Personal
Paint by the Amiga Display Database. Any video mode can be selected by
clicking on its name with the mouse.

Most video modes also exist in an interlaced variant. On Advanced Graphics
Architecture systems, a Double-Scan variant is also made available,
starting from version 3.0 of the operating system.

Selecting an interlace mode doubles the number of video lines. Unless a
"Flicker Fixer" card or other "Display Enhancer" circuitry is available,
or the Double-Scan option is selected, the interlace mode will increase
the flickering of the screen. This is caused by the fact that the original
Amiga video circuitry cannot display twice as many lines as normal in a
single video refresh pass: instead it refreshes the odd and even video
lines alternately.

An interlaced screen requires about twice as much screen memory as a
non-interlaced screen. Section @{"1.3.2" LINK PPaintCD:H/7/0/4/0002/Main 89} explains how to calculate how much
RAM is required to open a screen. Higher resolution screens, in addition
to requiring a lot of memory, may slow down the system considerably.

The Lock Display Mode gadget, to the right of the field indicating the
selected screen mode, prevents the Load Image function from changing
either the display mode or the setting of the Autoscroll option.

By activating this option, together with Autoscroll, it is possible to
quickly view a series of images having the most different formats, while
at the same time preventing flickering on multiscan monitors.

An optimized color average resize algorithm, which calculates additional,
new antialiasing colors to enhance the image, is applied whenever all of
the following conditions are met:

   - Color Average Resize option is enabled
   - Image size is reduced
   - Number of colors is increased

If the opening of the new screen fails due to memory shortage, Personal
Paint first tries to open the screen with no overscan. If this fails as
well, it attempts to open a small low resolution non-interlaced screen
(320 by 200 pixels). If even this fails (which is highly unusual, and
would indicate corrupt or extremely fragmented memory), Personal Paint
tries again after gradually freeing as much memory as possible (closing
the Workbench, releasing the undo buffer, freeing brushes, etc.)

Sections @{"11.1" LINK PPaintCD:H/7/0/4/0046/Main 9} and @{"11.4" LINK PPaintCD:H/7/0/4/0046/Main 303} contain detailed descriptions of problems and
solutions related to memory shortage, screen modes and video devices.


@{B}4.5.1      Overscan@{UB}

Most video modes can be opened in @{I}overscan@{UI} mode. This means that the
display is extended to an area which is normally around the screen area,
called overscan area. Different levels of overscan exist: Text, Graphics
(Standard), Extreme (the largest area officially supported by Intuition,
also called Maximum in older operating systems) and Maximum (highest
overscan supported by hardware, formerly named Video). The exact overscan
dimensions can be edited with the Overscan Preferences (operating system
2.0 and beyond). Not all monitors can fully display the same overscan
screens. Under Amiga operating system versions prior to 2.0, the overscan
mode is not a standard system feature, and can cause some drawbacks.

When the screen size exceeds the Text overscan area, it may be very useful
to finely set the screen offset. This can be done by pressing <Commodore>
(<Left Amiga>) plus the left mouse button, and moving the mouse.


@{B}4.5.2      Screen and Image Size@{UB}

The screen size values reflect the selected screen and overscan mode. It
is also possible to edit the numerical values which are displayed. The
possibility of creating such a non-standard size adds another overscan
mode, named Custom Overscan.

The image size may be set independently from the screen size. The two
arrow-gadgets to the right of the screen and image sizes can be used to
quickly make the image size the same as the screen size, or vice versa.

When an image format change is confirmed, a requester is displayed asking
whether the size of the existing image should be preserved or changed to
the new format. In the latter case, a Stretch option can be selected to
shrink or stretch the graphics to the new size (otherwise, the image could
be cut). Color reduction, if required, is always performed.


@{B}4.5.3      Number of Colors@{UB}

The Colors gadget controls the numbers of colors of the selected screen.
The minimum is two colors. The maximum depends on the screen mode and the
display circuitry. Original and Enhanced (ECS) chip sets may display up to
32 colors (64 in HBrite) in low resolution screens (i.e. about 320 pixels
wide), 16 colors in high resolution screens (i.e. about 640 pixels wide)
and 4 colors in Productivity (VGA) and A2024 modes. Most of these limits
have been raised to 256 colors in the Advanced Graphics Architecture chip
sets.


@{B}4.5.4      Autoscroll@{UB}

The Autoscroll option, which is supported by Amiga operating systems from
version 2.0, enables automatic scrolling if the page exceeds the screen
format. Scrolling is performed as soon as the mouse pointer reaches the
edges of the screen. Some display cards which are available for the Amiga
require this option in order to open custom screens in given sizes. In
some overscan modes, autoscroll may not be completely supported by the
operating system. If the title bar is hidden (section @{"3.3" LINK PPaintCD:H/7/0/4/0017/Main 1234}), menus can be
displayed by holding down the <Ctrl> key when the right mouse button is
pressed.


@{B}4.5.5      Retargetable Graphics (RTG)@{UB}

Some display cards store the image data in a region of RAM which cannot be
accessed by the Amiga blitter. Other expansion boards use an internal copy
of the image data, which is automatically updated by the display driver
software whenever the image is modified. Changes applied to the image by
the blitter, however, may not be detected under all conditions.

Personal Paint may use the Amiga blitter directly whenever this improves
performance on standard Amiga computers. Activation of the RTG option
inhibits any use of the blitter which might pass undetected by the display
card, or conflict with its RAM allocation scheme. In the Auto mode,
Personal Paint detects whether RTG is required for the particular screen
mode, and proceeds as necessary. Unfortunately, due to the lack of
standardization, this may not work with all graphics expansions. Whenever
a new display card is used, it is best to test the different settings with
all video modes.


@{B}4.6        Image Processing@{UB}

This function is identical with the Image Processing tool described in
section @{"3.1.4" LINK PPaintCD:H/7/0/4/0017/Main 521}, except that it is applied to the entire image.

The Clip Graphics option (section @{"9.13.2" LINK PPaintCD:H/7/0/4/0047/Main 723}) may be set to limit the part
which is modified to the visible screen area.

Image processing may be aborted by pressing any key. Selecting the undo
tool restores the partially changed image.


@{B}4.7        Flip Image@{UB}

These function are similar to their brush counterparts (section @{"5.12.3" LINK PPaintCD:H/7/0/4/0048/Main 455}),
but act on the entire image (or as specified by the Clip Graphics option,
section @{"9.13.2" LINK PPaintCD:H/7/0/4/0047/Main 723}).


@{B}4.7.1      Horizontal@{UB}

Horizontal Flip produces a mirror image of the original.


@{B}4.7.2      Vertical@{UB}

Vertical Flip turns the image upside-down.


@{B}4.8        Environment@{UB}

Personal Paint offers two independent working environments, which may even
have different graphic resolutions and image sizes. A number on the title
bar, immediately before the name of the picture, indicates the current
environment number (one or two).

When the program starts, it allocates memory for one environment. The
second environment is built when it is entered for the first time.


@{B}4.8.1      Switch@{UB}

This command enters the other environment, and, if it doesn't exist yet,
it creates it (then enters).


@{B}4.8.2      Copy to Other@{UB}

This command copies the current screen and image format, data and settings
to the other environment. It does not enter the other environment. It
issues a warning message before altering an unsaved image in the other
environment.


@{B}4.8.3      Copy Animation@{UB}

This command copies the entire animation to the other environment.


@{B}4.8.4      Merge in Front@{UB}

This command copies the image of the other environment over the current
image, leaving background colored pixels of the source image transparent.
This means that only those pixels which are not painted in the background
color of the other environment are copied to the current environment.

If the two environments have different color palettes and/or sizes, the
source image is remapped, color-reduced and/or stretched before it is
copied over the current image.


@{B}4.8.5      Merge in Back@{UB}

This command drops a background behind the current image. It is similar to
Merge in Front, except that it copies the other environment's image to the
current environment. It affects only background colored pixels of the
destination (current) image.


@{B}4.8.6      Free Current@{UB}

This command frees the memory associated with the current environment. It
works only if the current environment is not the only one (otherwise, the
program would have to terminate).  Other measures which can free memory
are described in section @{"11.1" LINK PPaintCD:H/7/0/4/0046/Main 9}.


@{B}4.9        Show Image@{UB}

This function displays the entire current image, shrinking it if necessary
to fit into the screen, and removing extraneous elements like the title
bar and tool bar.

The normal mode is restored by pressing any key on the keyboard or
clicking a mouse button.


@{B}4.10       Information@{UB}

@{B}4.10.1     Project Information@{UB}

This requester provides information on the current image or animation, and
allows the user to edit some annotations which can be saved together with
the file.

The contents of the Author, Copyright and Annotation fields is normally
stored inside the file when using the IFF (ILBM, ANIM, etc.), PNG or GIF
formats, and as an Amiga filenote (file comment - maximum 80 characters)
if other formats are used. No additional file information is stored if all
fields are empty. In this case, an existing Amiga filenote is cleared, and
no extension chunks (IFF, PNG or GIF) are stored.

The Annotation field may be useful to provide indications such as the
author's address, trademark information related to the image, or
particular techniques employed to create or process the image.


@{B}4.10.2     Memory Information@{UB}

This function displays a requester containing information on the amount of
available RAM.

The requester contains different numbers. The displayed values are
calculated @{U}before@{UU} the requester is displayed. In this way, the memory
temporarily occupied to display the requester is not subtracted and
counted as occupied. The unit for all numbers is the byte.

Memory occupied by each animation is included in the respective
Environment field. Animations also require some RAM for screen buffers,
which is accounted for in the Buffers field.

Three gadgets can be used to flush or free RAM in memory-critical
situations.

When Flush is selected, Personal Paint moves as much RAM data as possible
(Chip, Fast and virtual storage) to disk storage. This is useful to launch
other software in an unexpected low-RAM condition.

Flush All goes beyond this, and its use should be limited to more critical
situations: it frees any remaining buffers (such as the one used to
display the brush with an image, rather than with a thin border) and may
attempt to close the Workbench.

Free Undo frees all information stored in the Undo/Redo buffer. This is
equivalent to pressing <Ctrl-u> in normal paint mode.

Sections @{"1.3.2" LINK PPaintCD:H/7/0/4/0002/Main 89}, @{"4.8.6" LINK Main 1138} and @{"11.1" LINK PPaintCD:H/7/0/4/0046/Main 9} contain additional information on
memory.


@{B}4.10.2.1   System Memory@{UB}

The upper part of the requester contains nine numbers, divided into three
columns of three rows each. The three rows are labelled: Chip, Fast and
Total. The three columns are: Used, Free and Largest.

Chip stands for Chip Memory, which is the portion of the system memory
which can be accessed by the Amiga special-purpose custom chips. The
custom chips are used, for example, to handle graphical data, like the
contents of screens and windows. If there is not enough chip memory, some
operations, like the opening of a requester, may fail. Section @{"11.1" LINK PPaintCD:H/7/0/4/0046/Main 9}
explains how Chip memory can be freed.

All the remaining RAM is called "fast" memory. This memory is outside the
range that the custom chips can access. It is called "fast" because the
custom chips cannot access it, therefore the microprocessor does not have
to wait if a custom chip is working with the same memory (this is called
"bus contention").

The Amiga's memory is either Chip or Fast, therefore the sum of the two
yields the Total memory. The Total row contains the sums of each column's
Chip and Fast memory occupation numbers.

For each row (type of memory) there are three columns: Used, Free and
Largest. The first number in the row indicates how much of the particular
kind of memory associated with the row is already occupied. The second
number tells how much memory is still available to be used by the Amiga
operating system or other programs. The third number indicates the size of
the largest chunk of free memory.

The Largest field deserves a more detailed explanation. The free memory is
usually fragmented into several non-contiguous segments. For example, 200
kbytes of free memory may consist of a single chunk of 140 kbytes, another
50 kbytes long, and several other smaller chunks for a total of 10 Kbytes.
If a program asks the system for a block of 200 kbytes, it will not get
that memory. The available 200 kbytes cannot be merged into one single
chunk, as other programs are using the memory @{U}between@{UU} the free chunks. It
is possible that new Amiga operating systems, beyond the versions
available at the time of writing, may take advantage of the features of
the more powerful microprocessors mounted in the Amiga, making the
operation just described possible. Currently, the only thing that can be
done by the operating system in case of memory shortage is the freeing of
some libraries, devices and other resources which are not currently used.

In a multitasking environment like the Amiga, it is possible that programs
other than Personal Paint can allocate and free memory. Therefore, the
displayed values represent only a "snapshot" of the current situation.


@{B}4.10.2.2   Program Memory@{UB}

The lower part of the requester contains information about the memory
currently allocated by the program's two environments (image memory), the
maximum of nine brushes (plus one "brush restore" buffer) and other
buffers (Undo tool, Stencil bitplane, Line and Area Pattern buffers).

The displayed values do not include the memory occupied by the program
code itself or by its screens and windows.

The Total field is the sum of the other values. This total is already
included in the data regarding the total system memory occupied, displayed
in the upper part of the requester.


@{B}4.11       Quit@{UB}

This command is used to terminate the work with Personal Paint. A warning
requester can appear to list the items which have not yet been saved. The
Proceed and Cancel gadgets of the requester can be used to confirm or
cancel the command. If the choice is confirmed, the program terminates.
The screen is closed, all memory and resources occupied by the program are
freed.

It is good practice to always exit from all programs before switching the
computer off or resetting the system (with the <Ctrl> + <Commodore> +
<Amiga> keys).

@ENDNODE

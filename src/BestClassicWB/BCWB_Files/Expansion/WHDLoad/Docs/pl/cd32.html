<HTML>
<HEAD>
<TITLE>WHDLoadCD32</TITLE>
<meta name="DC.Language" content="pl">
<meta http-equiv="content-language" content="pl">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
<!-- $Id: cd32.html 1.4 2014/12/04 23:37:38 wepl Exp wepl $ -->
</HEAD>
<BODY>

<h3>WHDLoadCD32</h3>

WHDLoadCD32 jest specjaln± wersj± pakietu WHDLoad przeznaczon± do pracy z Amig± CD&sup3;&sup2;.
Zosta³a zoptymizowana pod ten sprzêt i dlatego te¿ uruchomi siê jedynie na &quot;go³ej&quot;,
nierozbudowanej Amidze CD&sup3;&sup2;. Pakiet nie uruchomi siê na SX-32, ani ¿adnej innej maszynie.

<p>Ró¿nice wzglêdem podstawowego pakietu WHDLoad:
<ul>

<li>nie wymaga, nie u¿ywa pliku-klucza do pakietu WHDLoad, dlatego p³yty CD zawieraj±ce
pakiet WHDLoad32 mog± byæ dowolnie rozpowszechniane

<li>obs³ugiwany jest jedynie procesor MC68020, co oznacza tak¿e brak obs³ugi MMU

<li>brak obs³ugi pamiêci typu Fast

<li>brak obs³ugi zapisywania, zarówno pozycji w grze, listy najlepszych wyników czy zrzutów pamiêci
(p³yty CD zazwyczaj s± jedynie do odczytu)

<li>wiele opcji zosta³o usuniêtych, gdy¿ s± one nieprzydatne na CD&sup3;&sup2;,
aby uczyniæ pliki wykonywalne mniejszymi oraz zaoszczêdziæ pamiêæ. Na stronie
<a href="opt.html">uruchamianie i opcje</a> mo¿esz sprawdziæ dok³adnie, których opcji to dotyczy

<li>nastêpuj±ce funkcje resload nie zosta³y zaimplemenrowane, a u¿ywanie ich spowoduje przerwanie pracy
WHDLoad z warto¶ci± zwrotn± TDREASON_ILLEGALARGS:

<ul>
<li><a href="../autodoc.html#resload_DiskLoadDev">resload_DiskLoadDev</a>
<li><a href="../autodoc.html#resload_ProtectRead">resload_ProtectRead</a>
<li><a href="../autodoc.html#resload_ProtectReadWrite">resload_ProtectReadWrite</a>
<li><a href="../autodoc.html#resload_ProtectWrite">resload_ProtectWrite</a>
<li><a href="../autodoc.html#resload_ProtectRemove">resload_ProtectRemove</a>
<li><a href="../autodoc.html#resload_ProtectSMC">resload_ProtectSMC</a>
<li><a href="../autodoc.html#resload_Log">resload_Log</a>
</ul>

<li>nastêpuj±ce funkcje resload nie dzia³aj±, nic nie robi±, ale zwracaj± kod powodzenia:

<ul>
<li><a href="../autodoc.html#resload_SaveFile">resload_SaveFile</a>
<li><a href="../autodoc.html#resload_SaveFileOffset">resload_SaveFileOffset</a>
<li><a href="../autodoc.html#resload_DeleteFile">resload_DeleteFile</a>
</ul>

<li>brak obs³ugi <a href="freezer.html">monitorów systemu / programów zatrzymuj±cych dzia³anie innych programów</a>

<li>brak wewnêtrznego sprawdzania wielko¶ci stosu, jak to jest w normalnej wersji pakietu, do moich testów
domy¶lna warto¶æ 4096 bajtów wystarcza³a podczas pracy z WHDLoadCD32

</ul>

<h3>Podpowiedzi odno¶nie u¿ywania WHDLoad na Amidze CD&sup3;&sup2;</h3>

G³ównym problemem na Amidze CD&sup3;&sup2; jest ograniczenie pamiêci. Jest to tylko 2MB pamiêci graficznej.
Dlatego te¿ konieczne jest uzyskanie jak najwiêkszej ilo¶ci wolnej pamiêci sla pakietu WHDLoad, a szczególnie dla operacji
wcze¶niejszego wczytywania danych. Upewnij siê, ¿e nie dzia³aj± w tle ¿adne inne programy gdy uruchamiasz program
wykorzystuj±cy pakiet WHDLoadCD32.

<ul>

<li>Je¶li program instaluj±cy pozwala wybraæ pomiêdzy obrazami dyskietek, a plikami, wybierz pliki. Wiele ma³yh plików
zostanie lepiej wykorzystane, ni¿ kilka wielkich.

<li>Je¶li program instaluj±cy pozwala na kompresjê plików z wykorzystaniem ProPack/FImp
u¿yj jej i spakuj wszytskie pliki (RNC1 posiada najlepszy wspó³czynnik kompresji).
Spakowane pliki zajmuj± mniej pamiêci przy opcji Preload i prawie nie powoduj± opó¼nieñ we wczytywaniu.

<li>U¿yj AllocMemReverse przed uruchomieniem WHDLoadCD32 (lub odpowiedniego zamiennika).
AllocMemReverse jest ma³ym programem zawartym w archiwum dla programistów do pakietu WHDLoad.
Podmienia to wywo³ania funkcji AllocMem tak, aby w trakcie przydzielania pamiêci zawsze u¿ywa³a
atrybutu MEM_REVERSE. To z kolei powoduje, ¿e pamiêæ jest przydzielana zaczynaj±c od najwy¿szych
wolnych adresów do najni¿szych, a nie od najni¿szych do najwy¿szych jak to ma miejsce normalnie.
To za¶ pozwoli utrzymaæ wolne dolne obszary pamiêci, co z kolei jest wymagane przez WHDLoad, gdy¿
wymaga on wolnej pamiêci zaczynaj±cej siê od adresu 0, czyli pocz±tku pamiêci chip. Ca³a wykorzystywana
pamiêæ z dolnych obszarów musi zostaæ przerzucona w wy¿sze obszary pamiêci. Ta dodatkowa pamiêæ jest
wymagana do przechowywania zapisów pamiêci. Im wiêcej pamiêci jest wykorzystywane w ni¿szych obszarach,
tym mniej jest dostêpne dla zainstalowanych programów oraz wcze¶niejszego wczytywania danych.

<li>Zawsze u¿ywaj opcji <a href="opt.html#Data">Data</a>. Opcja wcze¶niejszego wczytywania danych nie wie
które pliki zostan± wczytane przez zainstalowany program, dlatego te¿ wczytuj± wszystkie pliki, które znajd±.
Aby zapobiec wczytywaniu zbêdnych plików, utwórz podkatalog, który bêdzie zawiera³ jedynie wymagane pliki.
Skasuj wszystkie zbêdne pliki jak #?.info, #?.slave, ReadMe, Manual, .... Nastêpnie wywo³aj WHDLoad z plikiem
.slave i katalogem danych podanymi jako argumenty, np. <tt>WHDLoadCD32 :Slaves/XYZ.Slave Data=:Data/XYZ Preload</tt>.
Nie musisz zmieniaæ aktualnego katalogu na ¿aden inny.

<li>Nie u¿ywaj kompresji plików XPK. Dekompresja ich wymaga du¿ej ilo¶ci wolnej
pamiêci, poniewa¿ biblioteki systemu XPK musz± znajdowaæ siê w pamiêci,
dekompresja sama w sobie równie¿ wymaga pamiêci, a sam proces dekompresji
pwoduje fragmentacjê pamiêci.
</ul>
</BODY>
</HTML>
